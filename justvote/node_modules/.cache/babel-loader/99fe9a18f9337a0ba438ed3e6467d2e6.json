{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cheolsoon\\\\Desktop\\\\Front\\\\justvote\\\\src\\\\components\\\\createvote\\\\MyDropzone.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport axios from \"axios\";\nimport Dropzone from \"react-dropzone\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MyDropzone(props) {\n  _s();\n\n  const [Images, setImages] = useState([]);\n  const onDrop = useCallback(async acceptedFiles => {\n    // 사용자가 올린 정보를 확인해야 하므로 일단 서버로 전송합니다.\n    // 제목 같은 건 폼을 제출한 이후에 달아주도록 합시다.\n    // 폼데이터 구성\n    const formData = new FormData();\n    const config = {\n      header: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n    formData.append(\"file\", acceptedFiles[0]);\n    console.log(acceptedFiles[0]);\n    setImages(acceptedFiles.map(file => Object.assign(file, {\n      preview: URL.createObjectURL(file)\n    })));\n    console.log(Images.map);\n    await axios.post(\"http://localhost:8080/imgRegister\", formData, config).then(response => {\n      if (response.data.success) {\n        setImages([...Images, response.data.filePath]);\n        console.log(Images);\n      } else {\n        alert(\"파일 저장 실패\");\n      }\n    });\n    acceptedFiles.forEach(file => {\n      const reader = new FileReader();\n\n      reader.onabort = () => console.log(\"file reading was aborted\");\n\n      reader.onerror = () => console.log(\"file reading has failed\");\n\n      reader.onload = () => {\n        // Do whatever you want with the file contents\n        const binaryStr = reader.result;\n        console.log(binaryStr);\n      };\n\n      reader.readAsArrayBuffer(file);\n    });\n  }, []);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop\n  });\n  const InputProps = { ...getInputProps(),\n    multiple: false,\n    accept: \"image/gif, image/jpg, image/jpeg\"\n  };\n  const RootProps = { ...getRootProps()\n  };\n  const images = Images.map(image => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image.preview,\n        style: {\n          width: \"200px\"\n        },\n        alt: \"preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, image.name, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", { ...getRootProps(),\n    children: [/*#__PURE__*/_jsxDEV(\"input\", { ...InputProps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), isDragActive ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uC774\\uC81C \\uC774\\uBBF8\\uC9C0\\uB97C \\uB193\\uC544\\uC8FC\\uC138\\uC694\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"3em\",\n          marginBottom: \"5px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-file-upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uC774\\uBBF8\\uC9C0 \\uB123\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: images\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyDropzone, \"Qo/xcegzkA6rTZ5VjLpSqMYiyis=\", false, function () {\n  return [useDropzone];\n});\n\n_c = MyDropzone;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyDropzone\");","map":{"version":3,"sources":["C:/Users/Cheolsoon/Desktop/Front/justvote/src/components/createvote/MyDropzone.js"],"names":["React","useState","useCallback","useDropzone","axios","Dropzone","MyDropzone","props","Images","setImages","onDrop","acceptedFiles","formData","FormData","config","header","append","console","log","map","file","Object","assign","preview","URL","createObjectURL","post","then","response","data","success","filePath","alert","forEach","reader","FileReader","onabort","onerror","onload","binaryStr","result","readAsArrayBuffer","getRootProps","getInputProps","isDragActive","InputProps","multiple","accept","RootProps","images","image","width","name","display","flexDirection","alignItems","fontSize","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport axios from \"axios\";\r\nimport Dropzone from \"react-dropzone\";\r\n\r\nexport default function MyDropzone(props) {\r\n  const [Images, setImages] = useState([]);\r\n\r\n  const onDrop = useCallback(async (acceptedFiles) => {\r\n    // 사용자가 올린 정보를 확인해야 하므로 일단 서버로 전송합니다.\r\n    // 제목 같은 건 폼을 제출한 이후에 달아주도록 합시다.\r\n\r\n    // 폼데이터 구성\r\n    const formData = new FormData();\r\n\r\n    const config = {\r\n      header: {\r\n        \"content-type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n    formData.append(\"file\", acceptedFiles[0]);\r\n    console.log(acceptedFiles[0]);\r\n\r\n    setImages(\r\n      acceptedFiles.map((file) =>\r\n        Object.assign(file, {\r\n          preview: URL.createObjectURL(file),\r\n        })\r\n      )\r\n    );\r\n\r\n    console.log(Images.map);\r\n\r\n    await axios\r\n      .post(\"http://localhost:8080/imgRegister\", formData, config)\r\n      .then((response) => {\r\n        if (response.data.success) {\r\n          setImages([...Images, response.data.filePath]);\r\n          console.log(Images);\r\n        } else {\r\n          alert(\"파일 저장 실패\");\r\n        }\r\n      });\r\n\r\n    acceptedFiles.forEach((file) => {\r\n      const reader = new FileReader();\r\n\r\n      reader.onabort = () => console.log(\"file reading was aborted\");\r\n      reader.onerror = () => console.log(\"file reading has failed\");\r\n      reader.onload = () => {\r\n        // Do whatever you want with the file contents\r\n        const binaryStr = reader.result;\r\n        console.log(binaryStr);\r\n      };\r\n      reader.readAsArrayBuffer(file);\r\n    });\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\r\n\r\n  const InputProps = {\r\n    ...getInputProps(),\r\n    multiple: false,\r\n    accept: \"image/gif, image/jpg, image/jpeg\",\r\n  };\r\n\r\n  const RootProps = {\r\n    ...getRootProps(),\r\n  };\r\n\r\n  const images = Images.map((image) => (\r\n    <div key={image.name}>\r\n      <div>\r\n        <img src={image.preview} style={{ width: \"200px\" }} alt=\"preview\" />\r\n      </div>\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    <div {...getRootProps()}>\r\n      <input {...InputProps} />\r\n      {isDragActive ? (\r\n        <p>이제 이미지를 놓아주세요</p>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <div style={{ fontSize: \"3em\", marginBottom: \"5px\" }}>\r\n            <i className=\"fas fa-file-upload\"></i>\r\n          </div>\r\n          <div>이미지 넣기</div>\r\n        </div>\r\n      )}\r\n      <div>{images}</div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}