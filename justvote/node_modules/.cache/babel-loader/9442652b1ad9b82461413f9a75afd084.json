{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.locationReducer = locationReducer;\nexports.connectHistory = connectHistory;\nvar UPDATE_LOCATION = '@@history/UPDATE_LOCATION';\nvar initialState = {\n  pathname: null,\n  search: null,\n  hash: null,\n  state: null,\n  action: null,\n  key: null\n};\n\nfunction locationReducer() {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n  var action = arguments[1];\n\n  if (action.type === UPDATE_LOCATION) {\n    return Object.assign({}, state, action.payload);\n  }\n\n  return state;\n}\n\nfunction updateLocation(location) {\n  return {\n    type: UPDATE_LOCATION,\n    payload: location\n  };\n}\n\nfunction connectHistory(history, store) {\n  var currentKey = undefined;\n\n  function createUniqueKey(location) {\n    var key = history.createPath(location);\n    return key;\n  }\n\n  var unsubscribeHistory = history.listen(function (nextLocation) {\n    var _store$getState = store.getState();\n\n    var location = _store$getState.location;\n    var key = createUniqueKey(location);\n    currentKey = createUniqueKey(nextLocation);\n\n    if (key !== currentKey) {\n      store.dispatch(updateLocation(nextLocation));\n    }\n  });\n  var unsubscribeStore = store.subscribe(function () {\n    var _store$getState2 = store.getState();\n\n    var location = _store$getState2.location;\n    var key = createUniqueKey(location);\n\n    if (key && key !== currentKey) {\n      var method = location.action === 'REPLACE' ? 'replace' : 'push';\n      history[method](location);\n    }\n  });\n  return function unconnectHistory() {\n    unsubscribeHistory();\n    unsubscribeStore();\n  };\n}","map":{"version":3,"sources":["C:/Users/Cheolsoon/Desktop/Front/justvote/node_modules/redux-history/lib/index.js"],"names":["Object","defineProperty","exports","value","locationReducer","connectHistory","UPDATE_LOCATION","initialState","pathname","search","hash","state","action","key","arguments","length","undefined","type","assign","payload","updateLocation","location","history","store","currentKey","createUniqueKey","createPath","unsubscribeHistory","listen","nextLocation","_store$getState","getState","dispatch","unsubscribeStore","subscribe","_store$getState2","method","unconnectHistory"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,EAAAA,KAAK,EAAE;AADkC,CAA7C;AAGAD,OAAO,CAACE,eAAR,GAA0BA,eAA1B;AACAF,OAAO,CAACG,cAAR,GAAyBA,cAAzB;AACA,IAAIC,eAAe,GAAG,2BAAtB;AAEA,IAAIC,YAAY,GAAG;AAEfC,EAAAA,QAAQ,EAAE,IAFK;AAGfC,EAAAA,MAAM,EAAE,IAHO;AAIfC,EAAAA,IAAI,EAAE,IAJS;AAKfC,EAAAA,KAAK,EAAE,IALQ;AAMfC,EAAAA,MAAM,EAAE,IANO;AAOfC,EAAAA,GAAG,EAAE;AAPU,CAAnB;;AAWA,SAAST,eAAT,GAA2B;AACvB,MAAIO,KAAK,GAAGG,SAAS,CAACC,MAAV,IAAoB,CAApB,IAAyBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAA1C,GAAsDT,YAAtD,GAAqEO,SAAS,CAAC,CAAD,CAA1F;AACA,MAAIF,MAAM,GAAGE,SAAS,CAAC,CAAD,CAAtB;;AAEA,MAAIF,MAAM,CAACK,IAAP,KAAgBX,eAApB,EAAqC;AACjC,WAAON,MAAM,CAACkB,MAAP,CAAc,EAAd,EAAkBP,KAAlB,EAAyBC,MAAM,CAACO,OAAhC,CAAP;AACH;;AACD,SAAOR,KAAP;AACH;;AAED,SAASS,cAAT,CAAwBC,QAAxB,EAAkC;AAC9B,SAAO;AACHJ,IAAAA,IAAI,EAAEX,eADH;AAEHa,IAAAA,OAAO,EAAEE;AAFN,GAAP;AAIH;;AAED,SAAShB,cAAT,CAAwBiB,OAAxB,EAAiCC,KAAjC,EAAwC;AAEpC,MAAIC,UAAU,GAAGR,SAAjB;;AAEA,WAASS,eAAT,CAAyBJ,QAAzB,EAAmC;AAC/B,QAAIR,GAAG,GAAGS,OAAO,CAACI,UAAR,CAAmBL,QAAnB,CAAV;AACA,WAAOR,GAAP;AACH;;AAED,MAAIc,kBAAkB,GAAGL,OAAO,CAACM,MAAR,CAAe,UAAUC,YAAV,EAAwB;AAC5D,QAAIC,eAAe,GAAGP,KAAK,CAACQ,QAAN,EAAtB;;AAEA,QAAIV,QAAQ,GAAGS,eAAe,CAACT,QAA/B;AAEA,QAAIR,GAAG,GAAGY,eAAe,CAACJ,QAAD,CAAzB;AACAG,IAAAA,UAAU,GAAGC,eAAe,CAACI,YAAD,CAA5B;;AAEA,QAAIhB,GAAG,KAAKW,UAAZ,EAAwB;AACpBD,MAAAA,KAAK,CAACS,QAAN,CAAeZ,cAAc,CAACS,YAAD,CAA7B;AACH;AACJ,GAXwB,CAAzB;AAaA,MAAII,gBAAgB,GAAGV,KAAK,CAACW,SAAN,CAAgB,YAAY;AAC/C,QAAIC,gBAAgB,GAAGZ,KAAK,CAACQ,QAAN,EAAvB;;AAEA,QAAIV,QAAQ,GAAGc,gBAAgB,CAACd,QAAhC;AAEA,QAAIR,GAAG,GAAGY,eAAe,CAACJ,QAAD,CAAzB;;AAEA,QAAIR,GAAG,IAAIA,GAAG,KAAKW,UAAnB,EAA+B;AAC3B,UAAIY,MAAM,GAAGf,QAAQ,CAACT,MAAT,KAAoB,SAApB,GAAgC,SAAhC,GAA4C,MAAzD;AACAU,MAAAA,OAAO,CAACc,MAAD,CAAP,CAAgBf,QAAhB;AACH;AACJ,GAXsB,CAAvB;AAaA,SAAO,SAASgB,gBAAT,GAA4B;AAC/BV,IAAAA,kBAAkB;AAClBM,IAAAA,gBAAgB;AACnB,GAHD;AAIH","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.locationReducer = locationReducer;\nexports.connectHistory = connectHistory;\nvar UPDATE_LOCATION = '@@history/UPDATE_LOCATION';\n\nvar initialState = {\n\n    pathname: null,\n    search: null,\n    hash: null,\n    state: null,\n    action: null,\n    key: null\n\n};\n\nfunction locationReducer() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n    var action = arguments[1];\n\n    if (action.type === UPDATE_LOCATION) {\n        return Object.assign({}, state, action.payload);\n    }\n    return state;\n}\n\nfunction updateLocation(location) {\n    return {\n        type: UPDATE_LOCATION,\n        payload: location\n    };\n}\n\nfunction connectHistory(history, store) {\n\n    var currentKey = undefined;\n\n    function createUniqueKey(location) {\n        var key = history.createPath(location);\n        return key;\n    }\n\n    var unsubscribeHistory = history.listen(function (nextLocation) {\n        var _store$getState = store.getState();\n\n        var location = _store$getState.location;\n\n        var key = createUniqueKey(location);\n        currentKey = createUniqueKey(nextLocation);\n\n        if (key !== currentKey) {\n            store.dispatch(updateLocation(nextLocation));\n        }\n    });\n\n    var unsubscribeStore = store.subscribe(function () {\n        var _store$getState2 = store.getState();\n\n        var location = _store$getState2.location;\n\n        var key = createUniqueKey(location);\n\n        if (key && key !== currentKey) {\n            var method = location.action === 'REPLACE' ? 'replace' : 'push';\n            history[method](location);\n        }\n    });\n\n    return function unconnectHistory() {\n        unsubscribeHistory();\n        unsubscribeStore();\n    };\n}"]},"metadata":{},"sourceType":"script"}